# -*- Mode: sh -*-

# enable color support of ls and also add handy aliases
if [ `uname` == 'Darwin' ]; then
  alias ls='ls -FG'	       # On Mac OS
  wiredip=`ifconfig en0 | grep 'inet ' | cut -f2 -d' '`
else
  wiredip=`ifconfig eth0 | grep 'inet ' | cut -f2 -d' '`
  eval "`dircolors -b`"
  alias ls='ls --color=auto'   # List files with symbols (/ * @) and colors
  alias dir='ls --color=auto --format=vertical'
  alias vdir='ls --color=auto --format=long'
  alias bap='sudo apt-get upgrade outdated'
fi

alias l='ls -alF'            # List files including hidden files, with symbols
alias mv='mv -i'             # Interactive confirmation before move
alias rm='rm -i'             # Interactive confirmation before delete
alias cp='cp -ip'            # Confirm before overwrite; preserve timestamp

alias e="emacs -nw"

# Rsync it to shed
function bkp() {
    rsync --verbose --stats --progress \
	--archive --compress \
	--exclude=gentry/Library/Caches \
    --exclude=gentry/Library/Application\ Support/Google/Chrome/Default/Cache \
	--exclude=gentry/.Spotlight-V100 \
	--exclude=gentry/.fseventsd \
	--delete --delete-excluded --delete-after \
	--ignore-errors \
	--partial-dir=.rsync-partial  \
	"$1" shed.local:/mnt/disk2gb/gentry/backups/
}

# Like cp, but maybe more preservey
function tarcopy() {
    tar -cpSf - "$1" | tar -xpSf - --keep-newer-files -C "$2";
}

function tarcp() {
    tar cf - ${1} | (cd ${2} && tar xf -)
}

# cd into the source directory first so it extracts over (merges) the
# destination, but don't overwrite newer files there.
function tarmerge() {
    tar -cpSf - -C "$1" . | tar -xpSf - --keep-newer-files -C "$2";
}

#function psg() { /bin/ps auxww | egrep -i (PID|"$1")" ;}
alias psg="/bin/ps auxww | grep -i"

# Would be better for these to be evaluated at invocation time
alias shed='ssh 10.0.0.52'
[[ $wiredip = 172.31.* ]] && alias shed='ssh -p 23 gentry@ssh.surlycat.com'
alias d1='shed'
alias bigbook='ssh gentry@bigbook.local'
alias vey='mosh beta.glances.tv'
alias foo='ssh -i ~/.ssh/Instance1.pem ec2-54-244-189-175.us-west-2.compute.amazonaws.com'
alias ubu='ssh 10.0.0.107'

alias today="emacs -nw ~/txt/todo/today.txt"
alias whatsup='nmap -sP 10.0.0.0/24'
alias vncs='vncserver -geometry 1280x1024'
alias ltspice='wine ~/.wine/drive_c/Program\ Files/LTC/LTspiceIV/scad3.exe'
alias netlistviewer='wine ~/.wine/drive_c/Program\ Files/NetlistViewer/NetlistViewer.exe'

alias S='pushd ~/github/Glance/Server'
alias W='pushd ~/github/Glance/Web'
alias A='pushd ~/github/Glance/Apple'
alias G='pushd ~/github/'
alias Su='pushd ~/github/Glance/Server/uploader'
alias D='pushd ~/github/Glance/Database'

alias gs='git status'
alias gd='git diff'
alias gh='git hist'
alias ga='git add'
alias gp='git pull && git push'
alias gco='git checkout'
alias grm='git rm'
alias co='git checkout'
alias master='git checkout master'
alias dg='git checkout dg'
alias ag='git checkout ag'

alias realias='source ~/.aliases'
alias mydot='pushd ~/github/myDotfiles && emacs -nw aliases'
alias uda='pushd ~/github/myDotfiles && git pull && git commit aliases -m "Auto-updated aliases" && git push && source aliases && popd'

alias pudb='python -m pudb'

function gcl()
{
  git clone git@github.com:${1}
}

function ci()
{
  git commit ${1} -m "${2}"
}

alias wtn='find . -name'
function wtf()
{
    find . -type f -exec grep -in ${1} {} /dev/null \;
}


alias car='ssh carter@cartmac.local'
alias nol='ssh nolan@uglimac.local'
alias rpi='ssh pi@raspberrypi.local'
